<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boys vs Girls</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"> <!-- Link to your global styles -->

<style>
  * {
    box-sizing: border-box;
  }

  body {
    background: url('Assets/jpflex.gif') no-repeat center center fixed;
    background-size: cover;
    background-color: black; /* Fallback color */
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 10px;
    margin: 0;
    min-height: 100vh;
    justify-content: space-between;
  }

  @media (max-width: 768px) {
    body {
      background: url('Assets/jpflex.gif') no-repeat;
      background-size: auto 100vh;
      background-position: -520px center;
    }
  }
  
  input[type="number"] {
    width: 45%;
    padding: 8px;
    font-size: 14px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }

.team-container {
  color: white;
  font-size: 24px;
  font-weight: bold;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  text-align: center;
  margin-top: 20px;
  max-width: 300px;
  margin: 0 auto;
  transition: transform 0.2s ease;
}

.team-container.boys {
  background: linear-gradient(135deg, #80d0ff, #00bfff); /* Light Blue Gradient */
}

.team-container.girls {
  background: linear-gradient(135deg, #ff85b3, #ff4081); /* Light Pink Gradient */
}

.team-container h4 {
  margin: 0;
  font-size: 26px;
  text-transform: uppercase;
}

.team-container:hover {
  transform: scale(1.05);
}

  .round {
    margin-top: 40px;
    font-size: 24px;``
    font-weight: bold;
    text-align: center;
    color: #ffffff;
  }

.match-container {
  display: flex;
  justify-content: center;
  margin-top: 20px;
  transform: scale(0.95); /* Slightly scales everything down */
  transform-origin: top center;
}


.team-container {
  color: white;
  font-size: 24px;
  font-weight: bold;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  text-align: center;
  margin-top: 20px;
  max-width: 300px;
  margin: 0 auto;
  transition: transform 0.2s ease;
}

.team-container.boys {
  background: linear-gradient(135deg, #80d0ff, #00bfff); /* Light Blue Gradient */
}

.team-container.girls {
  background: linear-gradient(135deg, #ff85b3, #ff4081); /* Light Pink Gradient */
}

.team-container h4 {
  margin: 0;
  font-size: 26px;
  text-transform: uppercase;
}

.team-container:hover {
  transform: scale(1.05);
}

/* Mobile Version: Adjustments for smaller screens */
@media (max-width: 768px) {
  .team-container {
    font-size: 20px; /* Smaller font size for mobile */
    padding: 12px; /* Less padding for mobile */
    max-width: 250px; /* Smaller width on tablets */
  }

  .team-container h4 {
    font-size: 22px; /* Adjusted font size for titles */
  }

  .round {
    font-size: 22px; /* Smaller round text */
  }

  .match-container {
    margin-top: 15px; /* Adjusted margin for mobile */
  }
}

/* Very Small Screens (Phones in Portrait Mode) */
@media (max-width: 480px) {
  .team-container {
    font-size: 18px; /* Even smaller font size for small screens */
    padding: 10px; /* Less padding */
    max-width: 200px; /* Even smaller width for phones */
  }

  .team-container h4 {
    font-size: 20px; /* Smaller title font */
  }

  .round {
    font-size: 20px; /* Adjusted font size for rounds */
  }

  .match-container {
    margin-top: 10px; /* Adjusted margin */
    transform: scale(1); /* Reset scale for mobile */
  }
}


  .player-matchup {
    margin: 10px 0;
    display: flex;
    justify-content: space-between;
  }

  .player-info {
    padding: 12px;
    width: 100%;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #f9f9f9;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    color: black;
    font-size: 12px;
  }

  .player-header {
    font-size: 28px;
    font-weight: bold;
    margin-bottom: 8px;
    text-align: center;
    color: #007bff;
  }

  .player-name {
    font-size: 22px;
    color: #e1a033;
  }

  .player-slot {
    font-size: 20px;
    color: #960098;
  }

/* Container for Buy Amount and Total Pay */
.currency-input {
  display: flex; /* Use flexbox */
  flex-direction: column; /* Stack the items vertically */
  gap: 15px; /* Add space between the fields */
  margin-top: 10px;
}

.currency-input label {
  font-size: 16px; /* Label font size */
  color: black;
  margin-bottom: 5px; /* Space between label and input */
}

.currency-input input { 
  width: 100%; /* Make inputs fill the container's width */
  max-width: 200px; /* Optional: Set a max width to prevent input from being too wide */
  font-size: 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  color: black;
  padding: 5px;
  text-align: center; /* Center-align the text inside the input */
}

/* If you want to style static labels or make them non-interactive */
.static {
  background-color: #f2f2f2;
  pointer-events: none;
}

.currency-input,
.total-x-display {
  font-family: inherit;
  font-size: 16px;
  font-weight: 500;
  color: black;
  margin-top: 8px;
}


.boys-box-score,
.girls-box-score {
  position: fixed;
  top: 20px;
  width: 240px;
  padding: 20px;
  color: white;
  border-radius: 16px;
  text-align: center;
  font-size: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
  border: 2px solid gold;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
  z-index: 999;
}

.boys-box-score {
  left: 20px;
  background: linear-gradient(135deg, #007bff, #00bfff);
}

.girls-box-score {
  right: 20px;
  background: linear-gradient(135deg, #ff4081, #ff85b3);
}

.boys-box-score:hover,
.girls-box-score:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.45);
}

/* Score pulse animation */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.score-update {
  animation: pulse 0.3s ease-in-out;
}

/* Box title styling */
.box-score-title {
  font-weight: 900;
  font-size: 24px;
  text-transform: uppercase;
  margin-bottom: 12px;
  letter-spacing: 2px;
  border-bottom: 2px solid rgba(255, 255, 255, 0.3);
  padding-bottom: 8px;
  position: relative;
}

.box-score-title::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 30%;
  width: 40%;
  height: 2px;
  background: white;
  opacity: 0.7;
  border-radius: 2px;
}

/* Value styling */
.box-score-value p {
  margin: 6px 0;
  font-size: 18px;
  font-weight: 500;
  color: #f0f0f0;
}

/* Mobile Version: Adjustments */
@media (max-width: 768px) {
  .boys-box-score,
  .girls-box-score {
    width: 150px; /* Reduce size for mobile */
    padding: 10px; /* Less padding for mobile */
    font-size: 10px; /* Smaller font for mobile */
  }

  .boys-box-score {
    left: 10px; /* Move closer to the edge */
  }

  .girls-box-score {
    right: 10px; /* Move closer to the edge */
  }

  .box-score-title {
    font-size: 20px; /* Smaller title for mobile */
  }

  .box-score-value p {
    font-size: 16px; /* Smaller text for values */
  }
}

/* Very Small Screens (Phones in Portrait Mode) */
@media (max-width: 480px) {
  .boys-box-score,
  .girls-box-score {
    width: 130px; /* Smaller size for very small screens */
    padding: 8px; /* Further reduced padding */
    font-size: 8px; /* Even smaller font */
  }

  .boys-box-score {
    left: 5px; /* Move closer to the edge */
  }

  .girls-box-score {
    right: 5px; /* Move closer to the edge */
  }

  .box-score-title {
    font-size: 18px; /* Adjust title size */
  }

  .box-score-value p {
    font-size: 14px; /* Adjust value font size */
  }
}

.gold-text {
  color: gold;
  margin: 6px 0;
  font-size: 18px;
  font-weight: 500;
 }

  .winner-animation {
    width: 100%;
    max-width: 500px;
    padding: 20px;
    margin-top: 20px;
    border: 2px solid #ccc;
    border-radius: 10px;
    background-color: #fff;
    text-align: center;
    animation: fadeIn 1s ease-in-out;
  }

  .winner-team {
    font-size: 30px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
  }

  .winnerText {
    font-size: 20px;
    font-weight: 600;
    color: #555;
    display: none;
    animation: showText 2s ease-in-out;
  }

  .boys-animation,
  .girls-animation {
    font-size: 24px;
    font-weight: bold;
    animation: 2s ease-in-out infinite;
  }

  .boys-animation {
    color: #007bff;
    animation-name: boysWinner;
  }

  .girls-animation {
    color: #ff4081;
    animation-name: girlsWinner;
  }

  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  @keyframes showText {
    0% { opacity: 0; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.1); }
    100% { opacity: 1; transform: scale(1); }
  }

  @keyframes boysWinner {
    0% { color: #007bff; transform: scale(1); }
    50% { color: #66ccff; transform: scale(1.1); }
    100% { color: #007bff; transform: scale(1); }
  }

  @keyframes girlsWinner {
    0% { color: #ff4081; transform: scale(1); }
    50% { color: #ff80bf; transform: scale(1.1); }
    100% { color: #ff4081; transform: scale(1); }
  }



.title {
  width: 100%;
  max-width: 600px;
  height: auto;
  display: block;
  margin-top: -40px;
}

/* Tournament Card Styles */
.tournament-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 24px; /* Increased radius for more rounded corners */
  padding: 30px;
  max-width: 1000px;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  
  /* Thicker Border with Gradient */
  border: 8px solid transparent;
  border-radius: 24px; /* Rounded corners */
  border-image: linear-gradient(135deg, #007bff, #00bfff); /* Blue gradient */
  border-image-slice: 1;
  
  /* Animation for rotating gradient border */
  animation: borderGlow 3s infinite linear;
}

/* Keyframes for rotating glowing border */
@keyframes borderGlow {
  0% {
    border-image-source: linear-gradient(135deg, #007bff, #00bfff);
  }
  25% {
    border-image-source: linear-gradient(135deg, #ff4081, #ff85b3); /* Pink gradient */
  }
  50% {
    border-image-source: linear-gradient(135deg, #007bff, #00bfff);
  }
  75% {
    border-image-source: linear-gradient(135deg, #ff4081, #ff85b3); /* Pink gradient */
  }
  100% {
    border-image-source: linear-gradient(135deg, #007bff, #00bfff);
  }
}



.form-section h2 {
  margin-bottom: 15px;
  font-size: 1.5rem;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}

.input-group {
  display: flex;
  flex-direction: column;
  text-align: left;
}

.input-group label {
  margin-bottom: 5px;
  font-weight: 600;
}

.input-group input,
.input-group select {
  padding: 10px;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  background: #f0f0f0;
  color: #333;
}

.full-width {
  grid-column: span 2;
}

.add-player-btn {
  padding: 12px 20px;
  font-size: 1rem;
  background-color: #00c3ff;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  width: 100%;
  transition: background-color 0.2s ease;
}

.add-player-btn:hover {
  background-color: #009fc7;
}

.player-pools {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin: 30px 0;
  flex-wrap: wrap;
}

  .pool-container {
    flex: 1;
    width: 300px;
    min-width: 300px;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 12px;
    margin: 0 20px;
    background-color: #2c2c3f;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .pool-container h3 {
    color: #ffffff;
    text-align: center;
    margin-bottom: 10px;
    font-size: 25px;
}

.pool-container.boys {
  border-left: 6px solid #3fa9f5;
}

.pool-container.girls {
  border-left: 6px solid #f85bb5;
}

.players {
  min-height: 80px;
  background: #1a1a2a;
  border-radius: 8px;
  padding: 10px;
  text-align: left;
  overflow-y: auto;
  max-height: 200px;
  margin-bottom: 20px;
  width: 100%;
  color: #ffffff;
}

 .add-player-btn,
  .start-tournament-btn,
  .finish-round-btn {
    width: 100%;
    padding: 12px;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .add-player-btn {
    background-color: #4CAF50;
  }

  .add-player-btn:hover {
    background-color: #45a049;
  }

  .finish-round-btn {
    background-color: #009688;
    margin-top: 20px;
    z-index: 9999;
  }

  .finish-round-btn:hover {
    background-color: #00796b;
  }

.start-tournament-btn {
  padding: 15px 30px;
  font-size: 1.2rem;
  background-color: #38e46a;
  color: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease;
  margin-top: 30px;
}


.start-tournament-btn:hover {
  transform: scale(1.05);
  background-color: #e64a19;
}

h1.title {
  color: white;
  text-align: center; /* Centers the text */
  font-size: 48px; /* Adjust the font size as needed */
  font-weight: bold; /* Make it bold for emphasis */
  text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4); /* Optional shadow for a cool effect */
}

h2 {
  color: white;
}

/* Style for labels inside the tournament card */
.tournament-card .form-section label {
  color: white; /* Makes the font color white */
  font-size: 18px; /* Adjust the font size */
  font-weight: 600; /* Makes the label bold */
  margin-bottom: 5px; /* Adds spacing between label and input */
  display: block; /* Makes the label block level to ensure proper spacing */
}

    #winnerText {
  display: none;
  color: rgba(255, 255, 255, 0.85); /* optional style */
  font-size: 50px;
  font-weight: bold;
  text-align: center;
  margin-top: 20px;
  animation: showWinner 1.5s ease-out forwards; /* Custom animation */
        }

        @keyframes showWinner {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2); /* Slightly larger than normal size */
            }
            100% {
                opacity: 1;
                transform: scale(1); /* Return to normal size */
            }
        }


.round-wrapper {
  background: rgba(255, 255, 255, 0.5); /* 50% transparent white */
  border: 2px solid rgba(255, 215, 0, 0.6); /* Gold-like border */
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); /* Glow effect */
  border-radius: 16px;
  padding: 20px 30px;
  margin: 20px auto;
  width: fit-content;
  max-width: 90%;
  color: rgba(255, 255, 255, 0.5); /* 50% transparent white */
  font-family: 'Orbitron', sans-serif;
  text-align: center;
  position: relative;
  z-index: 1;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.round-wrapper:hover {
  transform: scale(1.03);
  box-shadow: 0 0 25px rgba(255, 215, 0, 0.5);
}

.round-title-wrapper {
  background: linear-gradient(135deg, #111, #222);
  padding: 12px 24px;
  border: 2px solid rgba(255, 215, 0, 0.6); /* gold border */
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
  display: inline-block;
  margin: 16px auto;
  text-align: center;
  animation: pulseRound 1.2s ease-in-out infinite;
}

.round-title {
  font-family: 'Orbitron', sans-serif;
  color: gold;
  font-size: 24px;
  text-shadow: 0 0 5px rgba(255, 215, 0, 0.7);
  margin: 0;
  letter-spacing: 1px;
  text-transform: uppercase;
}

@keyframes pulseRound {
  0% {
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
  }
  50% {
    box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
  }
  100% {
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
  }
}

    #finishTournamentBtn {
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        text-transform: uppercase;
        background: linear-gradient(145deg, #6a11cb, #2575fc); /* Gradient effect */
        color: #fff;
        border: 2px solid #fff;
        border-radius: 50px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    /* Button Hover Effect */
    #finishTournamentBtn:hover {
        background: linear-gradient(145deg, #2575fc, #6a11cb); /* Reverse gradient on hover */
        transform: scale(1.1); /* Slightly larger on hover */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3); /* Larger shadow */
    }

    /* Button Focus Effect */
    #finishTournamentBtn:focus {
        outline: none; /* Remove outline */
        box-shadow: 0 0 10px #2575fc; /* Focus effect */
    }

    /* Button Disabled Styling */
    #finishTournamentBtn:disabled {
        background: #ddd;
        color: #aaa;
        cursor: not-allowed;
        box-shadow: none;
    }

</style>
</head>
<body>

<img src="Assets/tourney.gif" alt="Boys vs Girls Tournament" class="title" />

<div class="tournament-card">
  <!-- Input Form -->
  <div class="form-section">
    <h2>Add a Player</h2>
    <div class="form-grid">
      <div class="input-group">
        <label for="kickUsername">Kick Username</label>
        <input type="text" id="kickUsername" placeholder="Enter Kick Username">
      </div>

      <div class="input-group">
        <label for="slot">Slot</label>
        <input type="text" id="slot" placeholder="Enter Slot Call">
      </div>

      <div class="input-group">
        <label for="team">Team</label>
        <select id="team">
          <option value="boys">Boys</option>
          <option value="girls">Girls</option>
        </select>
      </div>

      <div class="input-group full-width">
        <button id="addPlayerBtn" class="add-player-btn">➕ Add Player</button>
      </div>
    </div>
  </div>

  <!-- Player Pools -->
  <div class="player-pools">
    <div class="pool-container boys">
      <h3>💙 𝗕𝗼𝘆𝘀 𝗧𝗲𝗮𝗺</h3>
      <div class="players" id="boysPlayersList"></div>
    </div>

    <div class="pool-container girls">
      <h3>💖 𝗚𝗶𝗿𝗹𝘀 𝗧𝗲𝗮𝗺</h3>
      <div class="players" id="girlsPlayersList"></div>
    </div>
  </div>

  <button class="start-tournament-btn" id="startTournamentBtn">𝐒𝐭𝐚𝐫𝐭 𝐓𝐨𝐮𝐫𝐧𝐚𝐦𝐞𝐧𝐭</button>
</div>


  <div id="roundsContainer"></div>

<div class="boys-box-score">
  <div class="box-score-title">Boys</div>
  <div class="box-score-value" id="boysScore">
	<p>Total Buy Amount: <span class="gold-text">$0</span></p>
	<p>Total Pay: <span class="gold-text">$0</span></p>
	<p>Total X: <span class="gold-text">0x</span></p>
  </div>
</div>

<div class="girls-box-score">
  <div class="box-score-title">Girls</div>
  <div class="box-score-value" id="girlsScore">
	<p>Total Buy Amount: <span class="gold-text">$0</span></p>
	<p>Total Pay: <span class="gold-text">$0</span></p>
	<p>Total X: <span class="gold-text">0x</span></p>
  </div>
</div>

<button id="finishTournamentBtn">End Tournament</button>

<!-- Add Confetti Library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<div id="winnerText" style="display:none; opacity: 0;"></div>

<style>
/* 🎰 Casino Vibes: Fixed Buttons Container */
.fixed-buttons {
    position: fixed;
    top: 260px;
    left: 10px;
    display: flex;
    flex-direction: column;
    gap: -20px;
    z-index: 9999;
}
</style>
    <!-- Fixed Buttons -->
    <div class="fixed-buttons">
        <a href="index.html"><span>𝐇𝐨𝐦𝐞</span></a>
        <a href="1000giveaway.html"><span>$𝟏𝟎𝟎𝟎 𝐆𝐢𝐯𝐞𝐚𝐰𝐚𝐲</span></a>
        <a href="girlsvsboys.html"><span>𝐋𝐞𝐚𝐝𝐞𝐫𝐛𝐨𝐚𝐫𝐝</span></a>
    </div>


<script>

// Make sure the "end tournament" text is initially hidden
document.getElementById("winnerText").style.display = "none";

const boysPool = [];
const girlsPool = [];
const teamTotals = {
    boys: { buy: 0, pay: 0, x: 0 },
    girls: { buy: 0, pay: 0, x: 0 }
};

function addPlayer() {
    const kickUsername = document.getElementById("kickUsername").value.trim();
    const slot = document.getElementById("slot").value.trim();
    const team = document.getElementById("team").value;

    if (!kickUsername || !slot) return alert("Please fill in all fields.");

    const player = { username: kickUsername, slot, buy: 0, pay: 0, x: 0 };

    if (team === "boys" && boysPool.length < 6) {
        boysPool.push(player);
        updatePlayerList("boysPlayersList", boysPool);
    } else if (team === "girls" && girlsPool.length < 6) {
        girlsPool.push(player);
        updatePlayerList("girlsPlayersList", girlsPool);
    } else {
        alert("Team is full or invalid.");
    }
}

function updatePlayerList(poolId, pool) {
    const list = document.getElementById(poolId);
    list.innerHTML = "";
    pool.forEach((p, i) => {
        list.innerHTML += `<div><strong>${i + 1}.</strong> ${p.username} - ${p.slot}</div>`;
    });
}

function updateTotalX(username) {
    const player = [...boysPool, ...girlsPool].find(p => p.username === username);
    const buy = parseFloat(document.getElementById(`buyAmount-${username}`).value) || 0;
    const pay = parseFloat(document.getElementById(`totalPay-${username}`).value) || 0;
    
    player.buy = buy;
    player.pay = pay;

    // Calculate the Total X for this player
    player.x = buy > 0 ? (pay / buy) : 0;
    
    const totalXDiv = document.getElementById(`totalX-${username}`);
    totalXDiv.textContent = `Total X: ${player.x.toFixed(2)}x`;
}

function startTournament() {
    if (boysPool.length < 6 || girlsPool.length < 6) {
        alert("Each team must have 6 players to start the tournament.");
        return;
    }

    const shuffledBoys = [...boysPool].sort(() => 0.5 - Math.random());
    const shuffledGirls = [...girlsPool].sort(() => 0.5 - Math.random());

    const roundsContainer = document.getElementById("roundsContainer");
    roundsContainer.innerHTML = "";

    for (let i = 0; i < 3; i++) {
        const boysPair = shuffledBoys.slice(i * 2, i * 2 + 2);
        const girlsPair = shuffledGirls.slice(i * 2, i * 2 + 2);

        const roundDiv = document.createElement("div");
        roundDiv.classList.add("round-wrapper");
        roundDiv.innerHTML = `<div class="round-title-wrapper"><h3 class="round-title">Round ${i + 1}</h3></div>`;


        const roundContent = document.createElement("div");
        roundContent.classList.add("match-container");

        [boysPair, girlsPair].forEach((pair, teamIndex) => {
            const teamName = teamIndex === 0 ? "Boys" : "Girls";
            const teamClass = teamName.toLowerCase();
            const teamContainer = document.createElement("div");
            teamContainer.classList.add("team-container", teamClass);

            pair.forEach(player => {
                const playerDiv = document.createElement("div");
                playerDiv.classList.add("player-info");

                playerDiv.innerHTML = ` 
  		    <div class="player-info">
    	 	    <div class="player-header">
      		        <span class="player-name">${player.username}</span> <p> <span class="player-slot">${player.slot}</span> </p>
    		    </div>
                    <div class="currency-input">
    			<label for="buyAmount-${player.username}">Buy Amount:</label>
    			<input type="number" id="buyAmount-${player.username}" oninput="updateTotalX('${player.username}')">

    			<label for="totalPay-${player.username}">Total Pay:</label>
    			<input type="number" id="totalPay-${player.username}" oninput="updateTotalX('${player.username}')">
		    </div>
		    <div id="totalX-${player.username}" class="total-x-display">Total X: 0x</div>
                `;

                teamContainer.appendChild(playerDiv);
            });

            roundContent.appendChild(teamContainer);
        });

        const finishRoundBtn = document.createElement("button");
        finishRoundBtn.textContent = "End Round";
        finishRoundBtn.onclick = () => finishRound(i, boysPair, girlsPair, roundContent, finishRoundBtn);

        roundDiv.appendChild(roundContent);
        roundDiv.appendChild(finishRoundBtn);
        roundsContainer.appendChild(roundDiv);
    }
}

function finishRound(index, boysPair, girlsPair, container, button) {
    const calculateStats = (pair) => {
        let totalBuy = 0, totalPay = 0;
        pair.forEach(p => {
            const buy = parseFloat(document.getElementById(`buyAmount-${p.username}`).value) || 0;
            const pay = parseFloat(document.getElementById(`totalPay-${p.username}`).value) || 0;
            totalBuy += buy;
            totalPay += pay;
        });
        return { totalBuy, totalPay };
    };

    const boysStats = calculateStats(boysPair);
    const girlsStats = calculateStats(girlsPair);

    // Update individual player stats and team totals
    boysPair.forEach(p => updatePlayerStats(p, boysStats.totalBuy, boysStats.totalPay));
    girlsPair.forEach(p => updatePlayerStats(p, girlsStats.totalBuy, girlsStats.totalPay));

    teamTotals.boys.buy += boysStats.totalBuy;
    teamTotals.boys.pay += boysStats.totalPay;
    teamTotals.girls.buy += girlsStats.totalBuy;
    teamTotals.girls.pay += girlsStats.totalPay;

    teamTotals.boys.x = teamTotals.boys.buy > 0 ? teamTotals.boys.pay / teamTotals.boys.buy : 0;
    teamTotals.girls.x = teamTotals.girls.buy > 0 ? teamTotals.girls.pay / teamTotals.girls.buy : 0;

    updateBoxScores();
    container.querySelectorAll("input").forEach(i => i.disabled = true);
    button.disabled = true;
}

function updatePlayerStats(player, totalBuy, totalPay) {
    const buy = parseFloat(document.getElementById(`buyAmount-${player.username}`).value) || 0;
    const pay = parseFloat(document.getElementById(`totalPay-${player.username}`).value) || 0;

    // Calculate the Total X for this player
    const x = buy > 0 ? (pay / buy) : 0;

    player.buy = buy;
    player.pay = pay;
    player.x = x;

    const totalXDiv = document.getElementById(`totalX-${player.username}`);
    totalXDiv.textContent = `Total X: ${x.toFixed(2)}x`;
}

function updateBoxScores() {
    document.getElementById("boysScore").innerHTML =
        `<br>
        Total Buy: <span class="gold-text">$${teamTotals.boys.buy}</span><br>
        Total Pay: <span class="gold-text">$${teamTotals.boys.pay.toFixed(2)}</span><br>
        Total X: <span class="gold-text">${teamTotals.boys.x.toFixed(2)}x</span>`;

    document.getElementById("girlsScore").innerHTML =
        `<br>
        Total Buy: <span class="gold-text">$${teamTotals.girls.buy}</span><br>
        Total Pay: <span class="gold-text">$${teamTotals.girls.pay.toFixed(2)}</span><br>
        Total X: <span class="gold-text">${teamTotals.girls.x.toFixed(2)}x</span>`;
}


function finishTournament() {
    const winner = teamTotals.boys.x > teamTotals.girls.x ? "Boys Team" : "Girls Team";
    const winnerText = document.getElementById("winnerText");

    // Update text content
    winnerText.textContent = `${winner} Wins!`;

    // Make it visible with fade-in effect
    winnerText.style.display = "block";
    setTimeout(() => {
        winnerText.style.opacity = "1";
    }, 100);

    // Trigger confetti effect after the winner text appears
    setTimeout(() => {
        confetti({
            particleCount: 200,
            spread: 70,
            origin: { x: 0.5, y: 0.5 }
        });
    }, 500); // Delay to allow winner text to appear first
}

// Ensure this logic is used at the right point when all rounds are completed
function endTournament() {
    // Trigger the finishTournament function only when the tournament is completely finished
    finishTournament();
}

document.getElementById("addPlayerBtn").onclick = addPlayer;
document.getElementById("startTournamentBtn").onclick = startTournament;
document.getElementById("finishTournamentBtn").onclick = finishTournament;


</script>


</body>
<footer>
	<p>&copy; 2025 𝐉𝐏-𝐅𝐋𝐄𝐗.𝐜𝐨𝐦‌. All rights reserved.</p>
</footer>


</html>
